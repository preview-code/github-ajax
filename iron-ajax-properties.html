<!--
@license
Copyright (c) 2017 Preview-Code. All rights reserved.
This code may only be used under the BSD style license found in LICENSE.txt
-->
<script>
/**
 * exported IronAjaxProperties
 * @polymerBehavior
 **/
var IronAjaxProperties = (function() {
  /**
   * Shared state for new instances of this element and to share the token
   * inserted by one element.
   * @type {Object}
   */
  // var shared = {
  //   instances: [],
  //   accessToken: undefined
  // };

  return {
    properties: {

      
    },
    observers: [
      '_updateContentType(contentType)',
      '_maybeFire(auto)'
    ],
    
    
    /**
     * Static function to insert the oAuth token and make sure all
     * other instances of this element share the same token.
     * @param  {String} token The oAuth token for the GitHub communication
     */
    storeToken: function(token) {
      // this.shared.accessToken = token;
      // shared.accessToken = token;
      // for (var i = 0, l = shared.instances.length; i < l; i++) {
      //   shared.instances[i](shared);
      // }
    },
    _setHeader: function(name, value) {
      this.headers = this.headers || {};
      this.headers[name] = value;
    },
    _updateContentType: function(contentType) {
      if (!contentType) {
        return;
      }
      this._setHeader('content-type', contentType);
    },
    _onRequest: function(e) {
      e.stopPropagation();
      this.fire('request', e.detail, {
        bubbles: this.bubbles
      });
    }
  };
})()
</script>
